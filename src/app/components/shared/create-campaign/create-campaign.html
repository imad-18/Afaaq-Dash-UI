<p>create-campaign works!</p>
<form nz-form (ngSubmit)="onSubmit()" #campaignForm="ngForm" style="max-width: 500px; margin: auto;">
  <!-- Title -->
  <nz-form-item>
    <nz-form-label [nzSpan]="6" nzFor="title" nzRequired>Title</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <input
        nz-input
        id="title"
        name="title"
        [(ngModel)]="formCampaign.title"
        required
        placeholder="Enter campaign title"
      />
    </nz-form-control>
  </nz-form-item>

  <!-- Description -->
  <nz-form-item>
    <nz-form-label [nzSpan]="6" nzFor="description">Description</nz-form-label>
    <nz-form-control [nzSpan]="14">
      <textarea
        nz-input
        id="description"
        name="description"
        [(ngModel)]="formCampaign.description"
        placeholder="Enter campaign description"
        rows="3"
      ></textarea>
    </nz-form-control>
  </nz-form-item>

  <!-- Images Path -->
  <nz-form-item>
    <nz-form-label [nzSpan]="6" nzFor="imagesPath">Images</nz-form-label>
    <!--<nz-form-control [nzSpan]="14">
      <input
        nz-input
        id="imagesPath"
        name="imagesPath"
        [(ngModel)]="imagesInput"
        placeholder="e.g. assets/images/img1.jpg, assets/images/img2.jpg"
      />
    </nz-form-control>-->
    <nz-form-control [nzSpan]="14">
      <nz-upload
        class="upload-list-inline"
        nzAction="http://localhost:8080/api/files/upload"
        nzListType="picture"
        [(nzFileList)]="fileList2"
        [nzRemove]="handleRemove"
        (nzChange)="handleUploadChange($event)"
        nzMultiple="true"
        [nzShowUploadList]="{ showPreviewIcon: true, showRemoveIcon: true }">
        <!-- CRITICAL: type="button" prevents form submission -->
        <button nz-button type="button">
          <span nz-icon nzType="upload"></span>
          Upload Images
        </button>
      </nz-upload>
      @if (formCampaign.imagesPath.length){
        <div class="upload-hint">
          <span nz-icon nzType="check-circle" nzTheme="fill" style="color: #52c41a;"></span>
          {{ formCampaign.imagesPath.length }} image(s) uploaded
        </div>
      }
    </nz-form-control>
  </nz-form-item>

  <!-- Submit -->
  <nz-form-item>
    <nz-form-control [nzSpan]="14" [nzOffset]="6">
      <button nz-button nzType="default" type="button" (click)="onCancel()">Cancel</button>
      <button nz-button nzType="primary" type="submit" [disabled]="campaignForm.invalid">
        {{ formCampaign.id ? 'Update' : 'Create' }} Campaign
      </button>

    </nz-form-control>
  </nz-form-item>
</form>

